Title:
  Array Diversity

From:
  uva_live/5990

Source:
  Regionals/2011/Asia - Amritapuri/H

Tags:
  组合数学
  dp
  预处理

Description:
n长度的数组.
求:包含最小和最大值的子串(不一定连续)的个数，和包含最小和最大值的子序列(连续)的个数．

Solution:
不连续：最小值的个数x,最大值个数y,其他为z，答案为(2^x-1)*(2^y-1)*(2^z)
连续:枚举左端点i，每次枚举，找到大于等于i的最小j，满足i - j 区间内至少1个最小值和1个最大值,
那么，所有i-n 的点都是可行点，而每次枚举的j值一定是增大的，故j可以在上次枚举的基础上增大，
均摊下，j最多增加了n次.
而i-j 区间最大最小值的个数可以预处理(dp)得到.
特例：最大值=最小值
